(this.webpackJsonpfirstapp=this.webpackJsonpfirstapp||[]).push([[7],{135:function(e,t,n){e.exports=n(374)},141:function(e,t,n){var r={"./ion-action-sheet-ios.entry.js":[378,37],"./ion-action-sheet-md.entry.js":[379,38],"./ion-alert-ios.entry.js":[380,21],"./ion-alert-md.entry.js":[381,22],"./ion-app_8-ios.entry.js":[382,10],"./ion-app_8-md.entry.js":[383,11],"./ion-avatar_3-ios.entry.js":[384,39],"./ion-avatar_3-md.entry.js":[385,40],"./ion-back-button-ios.entry.js":[386,41],"./ion-back-button-md.entry.js":[387,42],"./ion-backdrop-ios.entry.js":[388,79],"./ion-backdrop-md.entry.js":[389,80],"./ion-button_2-ios.entry.js":[390,43],"./ion-button_2-md.entry.js":[391,44],"./ion-card_5-ios.entry.js":[392,45],"./ion-card_5-md.entry.js":[393,46],"./ion-checkbox-ios.entry.js":[394,47],"./ion-checkbox-md.entry.js":[395,48],"./ion-chip-ios.entry.js":[396,49],"./ion-chip-md.entry.js":[397,50],"./ion-col_3.entry.js":[398,81],"./ion-datetime_3-ios.entry.js":[399,17],"./ion-datetime_3-md.entry.js":[400,18],"./ion-fab_3-ios.entry.js":[401,51],"./ion-fab_3-md.entry.js":[402,52],"./ion-img.entry.js":[403,82],"./ion-infinite-scroll_2-ios.entry.js":[404,35],"./ion-infinite-scroll_2-md.entry.js":[405,36],"./ion-input-ios.entry.js":[406,53],"./ion-input-md.entry.js":[407,54],"./ion-item-option_3-ios.entry.js":[408,55],"./ion-item-option_3-md.entry.js":[409,56],"./ion-item_8-ios.entry.js":[410,57],"./ion-item_8-md.entry.js":[411,58],"./ion-loading-ios.entry.js":[412,23],"./ion-loading-md.entry.js":[413,24],"./ion-menu_3-ios.entry.js":[414,59],"./ion-menu_3-md.entry.js":[415,60],"./ion-modal-ios.entry.js":[416,12],"./ion-modal-md.entry.js":[417,13],"./ion-nav_2.entry.js":[418,16],"./ion-popover-ios.entry.js":[419,14],"./ion-popover-md.entry.js":[420,15],"./ion-progress-bar-ios.entry.js":[421,61],"./ion-progress-bar-md.entry.js":[422,62],"./ion-radio_2-ios.entry.js":[423,63],"./ion-radio_2-md.entry.js":[424,64],"./ion-range-ios.entry.js":[425,65],"./ion-range-md.entry.js":[426,66],"./ion-refresher_2-ios.entry.js":[427,25],"./ion-refresher_2-md.entry.js":[428,26],"./ion-reorder_2-ios.entry.js":[429,33],"./ion-reorder_2-md.entry.js":[430,34],"./ion-ripple-effect.entry.js":[431,83],"./ion-route_4.entry.js":[432,67],"./ion-searchbar-ios.entry.js":[433,27],"./ion-searchbar-md.entry.js":[434,28],"./ion-segment_2-ios.entry.js":[435,68],"./ion-segment_2-md.entry.js":[436,69],"./ion-select_3-ios.entry.js":[437,70],"./ion-select_3-md.entry.js":[438,71],"./ion-slide_2-ios.entry.js":[439,84],"./ion-slide_2-md.entry.js":[440,85],"./ion-spinner.entry.js":[441,31],"./ion-split-pane-ios.entry.js":[442,86],"./ion-split-pane-md.entry.js":[443,87],"./ion-tab-bar_2-ios.entry.js":[444,72],"./ion-tab-bar_2-md.entry.js":[445,73],"./ion-tab_2.entry.js":[446,32],"./ion-text.entry.js":[447,74],"./ion-textarea-ios.entry.js":[448,75],"./ion-textarea-md.entry.js":[449,76],"./ion-toast-ios.entry.js":[450,29],"./ion-toast-md.entry.js":[451,30],"./ion-toggle-ios.entry.js":[452,19],"./ion-toggle-md.entry.js":[453,20],"./ion-virtual-scroll.entry.js":[454,88]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=141,e.exports=a},143:function(e,t,n){var r={"./ion-icon.entry.js":[458,96]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=143,e.exports=a},178:function(e,t){},359:function(e,t,n){},360:function(e,t,n){},361:function(e,t,n){},372:function(e,t,n){},373:function(e,t,n){},374:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(59),c=n.n(o),l=n(26),s=n(1),i=n(129),u=n(25),p=n(44),f=n(2),m=n.n(f),h=n(8),d=n(9),g=n(41),b=n(67),v=n(49),E=n.n(v),j=(n(359),b.a.Storage),y=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),l=Object(d.a)(c,2),i=l[0],u=l[1],f=E()("/ip4/157.245.63.46/tcp/5001"),b=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"http://157.245.63.46:8080/api/auth/login",t={email:"a@b.com",role:"creator",password:"welcome123"},fetch("http://157.245.63.46:8080/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("token",e.token)}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"http://157.245.63.46:8080/api/auth/protected",fetch("http://157.245.63.46:8080/api/auth/protected",{method:"GET",headers:{"Content-Type":"application/json",Authorization:""+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"http://157.245.63.46:8080/api/auth/register",t={email:"a@b.com",role:"creator",password:"welcome123"},fetch("http://157.245.63.46:8080/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("token",e.token)}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.version();case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r,a,o,c,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(p.a)(t)[0]){e.next=3;break}return e.abrupt("return");case 3:return r={path:"/user1/"+n.name,content:n},a={wrapWithDirectory:!0,progress:function(e){return console.log("received: ".concat(e))}},o=f.add(r,a),e.prev=6,console.log(o),e.next=10,o.next();case 10:return c=e.sent,e.next=13,o.next();case 13:if(!(c=e.sent)){e.next=21;break}return console.log(c),console.log(JSON.stringify(c)),u(c.value.cid.toString()),l={user:"user1",ipfskey:c.value.cid.toString()},e.next=21,j.set({key:"userobj",value:JSON.stringify(l)});case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),console.error(e.t0);case 26:case"end":return e.stop()}}),e,null,[[6,23]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.remove({key:"userobj"});case 2:t=e.sent,console.log(JSON.stringify(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n,r,a,o,c,l,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:t=e.sent,console.log("storedvalue"+t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err"+e.t0);case 10:console.log(JSON.parse(t).ipfskey),n=f.ls(JSON.parse(t).ipfskey),e.prev=12,r=!0,a=!1,e.prev=15,c=Object(g.a)(n);case 17:return e.next=19,c.next();case 19:return l=e.sent,r=l.done,e.next=23,l.value;case 23:if(s=e.sent,r){e.next=31;break}i=s,console.log(i),console.log(i.path);case 28:r=!0,e.next=17;break;case 31:e.next=37;break;case 33:e.prev=33,e.t1=e.catch(15),a=!0,o=e.t1;case 37:if(e.prev=37,e.prev=38,r||null==c.return){e.next=42;break}return e.next=42,c.return();case 42:if(e.prev=42,!a){e.next=45;break}throw o;case 45:return e.finish(42);case 46:return e.finish(37);case 47:e.next=52;break;case 49:e.prev=49,e.t2=e.catch(12),console.error(e.t2);case 52:case"end":return e.stop()}}),e,null,[[0,7],[12,49],[15,33,37,47],[38,,42,46]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,C();case 4:n=e.sent,console.log("storedvalue"+n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("err"+e.t0);case 11:return e.next=13,f.files.stat("/ipfs/"+JSON.parse(n).ipfskey,t);case 13:r=e.sent,console.log(r);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get({key:"userobj"});case 2:return t=e.sent,e.abrupt("return",t.value);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(s.s,null,a.a.createElement(s.k,null,a.a.createElement(s.C,null,a.a.createElement(s.B,null,"Tab 1"))),a.a.createElement(s.i,null,a.a.createElement(s.k,{collapse:"condense"},a.a.createElement(s.C,null,a.a.createElement(s.B,{size:"large"},"Tab 1"))),a.a.createElement(s.n,null,a.a.createElement(s.o,{color:"primary"},"IPFS create/list files")),a.a.createElement("div",null,a.a.createElement("form",{id:"captureMedia",onSubmit:function(e){e.preventDefault()}},a.a.createElement("input",{type:"file",onChange:function(e){e.stopPropagation(),e.preventDefault(),O(e.target.files)}}),a.a.createElement("br",null))),a.a.createElement("div",null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://ipfs.io/ipfs/"+i},i)),a.a.createElement(s.q,null,a.a.createElement(s.n,null,a.a.createElement(s.o,{position:"stacked",color:"primary"},"Username"),a.a.createElement(s.m,{name:"username",type:"text",value:n,spellCheck:!1,autocapitalize:"off",onIonChange:function(e){return o(e.detail.value)},required:!0})),a.a.createElement(s.e,{onClick:k}," Test button "),a.a.createElement(s.e,{onClick:x}," Remove button "),a.a.createElement(s.n,null,a.a.createElement(s.m,{name:"listname",type:"text",placeholder:"List",value:"",spellCheck:!1,autocapitalize:"off"},a.a.createElement(s.e,{onClick:S}," List "))),a.a.createElement(s.n,null,a.a.createElement(s.m,{name:"liststat",type:"text",placeholder:"Stat",value:"",spellCheck:!1,autocapitalize:"off"},a.a.createElement(s.e,{onClick:w}," Stat "))),a.a.createElement(s.n,null,a.a.createElement(s.e,{onClick:b}," mylogin "),a.a.createElement(s.e,{onClick:y}," register "),a.a.createElement(s.e,{onClick:v}," test "))),a.a.createElement("p",null," Hello ")))},k=(n(360),b.a.Storage),O=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),l=Object(d.a)(c,2),i=l[0],f=l[1],b=Object(r.useState)(""),v=Object(d.a)(b,2),j=v[0],y=v[1],O=Object(r.useState)(""),x=Object(d.a)(O,2),S=x[0],w=x[1],C=Object(r.useState)(""),_=Object(d.a)(C,2),N=_[0],J=_[1],I=Object(r.useState)("/user1/contents/"),T=Object(d.a)(I,2),z=T[0],P=T[1],D=Object(r.useState)(0),A=Object(d.a)(D,2),L=A[0],F=A[1],U=a.a.useState([]),B=Object(d.a)(U,2),q=B[0],H=B[1],K=Object(r.useState)(!1),M=Object(d.a)(K,2),W=M[0],G=M[1],V=Object(r.useState)(!1),R=Object(d.a)(V,2),$=R[0],Q=R[1],X=Object(r.useState)(!1),Y=Object(d.a)(X,2),Z=Y[0],ee=Y[1],te=Object(r.useState)(""),ne=Object(d.a)(te,2),re=ne[0],ae=ne[1],oe=Object(r.useState)(""),ce=Object(d.a)(oe,2),le=ce[0],se=ce[1],ie=Object(r.useState)(""),ue=Object(d.a)(ie,2),pe=ue[0],fe=ue[1],me=a.a.useState([]),he=Object(d.a)(me,2),de=he[0],ge=he[1],be=u.n,ve=E()("/ip4/157.245.63.46/tcp/5001"),Ee={nodetype:"",userid:""};Object(s.F)((function(){console.log("ionViewDidEnter event fired")})),Object(s.G)((function(){console.log("ionViewWillEnter event fired");var e=localStorage.getItem("token"),t=localStorage.getItem("userinfo"),n=null;if(null==e)return fe("Login to proceed"),void ee(!0);console.log("userinfo="+t);try{n=JSON.parse(t)}catch(a){return}null!=n&&(console.log(t),o(n.userid)),je();var r=localStorage.getItem("ipfsconfig");if(null==r)return fe("Config not created"),void ee(!0);Ee=JSON.parse(r),console.log(Ee),o(Ee.userid),f(Ee.nodetype),Se("/"+Ee.userid),ke("/"+Ee.userid)}));var je=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"http://157.245.63.46:8080/api/ipfsnode/getipfsconfig",t={userid:n,nodetype:i},fetch("http://157.245.63.46:8080/api/ipfsnode/getipfsconfig",{method:"POST",headers:{"Content-Type":"application/json",Authorization:""+localStorage.getItem("token")},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("ipfsconfig",JSON.stringify(e))}),(function(e){ae(e),G(!0),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r,a,o,c,l,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.split("/"),r=[],a=0;a<n.length;a++)""!==n[a]&&r.push(n[a]);for(o=[],console.log(JSON.stringify(r)),c=r.map((function(e){return e})),l=0;l<c.length;l++)s=c[c.length-l-1],i={lastpath:s,fullpath:"/"+r.join("/")},o.push(i),r.pop();console.log(JSON.stringify(o)),o.reverse(),ge(o),console.log(JSON.stringify(o));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oe(t),ye(t),we(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r,a,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.split("/"),r=[],a=0;a<n.length;a++)""!==n[a]&&r.push(n[a]);o="/"+r.join("/"),P(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r,a,o,c,l,s,i,u,p,f,h,d,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},r=t.split("/"),""===(a=r.pop())&&(a=r.pop()),o=r.join("/"),console.log("newdir ="+o),console.log("lastdir ="+a),""===o&&(o="/"),c=ve.files.ls(o,n),e.prev=9,l=!0,s=!1,e.prev=12,u=Object(g.a)(c);case 14:return e.next=16,u.next();case 16:return p=e.sent,l=p.done,e.next=20,p.value;case 20:if(f=e.sent,l){e.next=33;break}if(h=f,console.log(h),1!==h.type||h.name!==a){e.next=30;break}return d={recursive:!0},e.next=28,ve.pin.add(h.cid.toString(),d);case 28:b=e.sent,console.log("pinning status ="+JSON.stringify(b));case 30:l=!0,e.next=14;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e.catch(12),s=!0,i=e.t0;case 39:if(e.prev=39,e.prev=40,l||null==u.return){e.next=44;break}return e.next=44,u.return();case 44:if(e.prev=44,!s){e.next=47;break}throw i;case 47:return e.finish(44);case 48:return e.finish(39);case 49:se("Pinned "+t),Q(!0),e.next=58;break;case 53:e.prev=53,e.t1=e.catch(9),ae(e.t1),G(!0),console.error(e.t1);case 58:case"end":return e.stop()}}),e,null,[[9,53],[12,35,39,49],[40,,44,48]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r,a,o,c,l,s,i,u,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},r=ve.files.ls(t,n),e.prev=2,a=!0,o=!1,e.prev=5,l=Object(g.a)(r);case 7:return e.next=9,l.next();case 9:return s=e.sent,a=s.done,e.next=13,s.value;case 13:if(i=e.sent,a){e.next=20;break}u=i,console.log(u);case 17:a=!0,e.next=7;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(5),o=!0,c=e.t0;case 26:if(e.prev=26,e.prev=27,a||null==l.return){e.next=31;break}return e.next=31,l.return();case 31:if(e.prev=31,!o){e.next=34;break}throw c;case 34:return e.finish(31);case 35:return e.finish(26);case 36:e.next=47;break;case 38:return e.prev=38,e.t1=e.catch(2),ae(e.t1),console.error(e.t1),p={parents:!0},e.next=45,ve.files.mkdir(t,p);case 45:r=e.sent,console.log(r);case 47:case"end":return e.stop()}}),e,null,[[2,38],[5,22,26,36],[27,,31,35]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r,a,o,c,l,s,i,u,p,f,h,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},r=ve.files.ls(t,n),a=[],e.prev=3,o=!0,c=!1,e.prev=6,s=Object(g.a)(r);case 8:return e.next=10,s.next();case 10:return i=e.sent,o=i.done,e.next=14,i.value;case 14:if(u=e.sent,o){e.next=25;break}p=u,console.log(p),f="https://ipfs.io/ipfs/"+p.cid.toString(),h=Ee.localgateway+"/ipfs/"+p.cid.toString(),d={name:p.name,type:p.type,cid:p.cid.toString(),fullpath:t+"/"+p.name,publicurl:f,privateurl:h},a.push(d);case 22:o=!0,e.next=8;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(6),c=!0,l=e.t0;case 31:if(e.prev=31,e.prev=32,o||null==s.return){e.next=36;break}return e.next=36,s.return();case 36:if(e.prev=36,!c){e.next=39;break}throw l;case 39:return e.finish(36);case 40:return e.finish(31);case 41:H(a),e.next=49;break;case 44:e.prev=44,e.t1=e.catch(3),ae(e.t1),G(!0),console.error(e.t1);case 49:case"end":return e.stop()}}),e,null,[[3,44],[6,27,31,41],[32,,36,40]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,ve.files.stat(t,n);case 3:r=e.sent,F(r.cumulativeSize),console.log(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){}),[z]);var _e=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={parents:!0},!(j.length<1)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ve.files.mkdir(z+"/"+j,t);case 5:n=e.sent,console.log(n),we(z);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,ve.files.rm(t,n);case 3:r=e.sent,console.log(r),we(z);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r,a,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.a)(t)[0],r={create:!0},e.next=4,k.set({key:"user",value:"user1"});case 4:return e.next=6,ve.files.write(z+"/"+n.name,n,r);case 6:return a=e.sent,console.log(a),a=ve.files.ls(z+"/"+n.name,r),e.next=11,a.next();case 11:o=e.sent,console.log(o.value.cid.toString()),J(z+"/"+n.name),w(o.value.cid.toString()),c={hash:o.value.cid.toString(),name:n.name,cid:o.value.cid.toString(),path:z},Ie(c),we(z);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"http://157.245.63.46:8080/api/ipfsusage/savefile",n={userid:"user1",name:t.name,path:t.path,hash:t.hash,cid:t.cid},fetch("http://157.245.63.46:8080/api/ipfsusage/savefile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:""+localStorage.getItem("token")},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){ae(e),G(!0),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(s.s,null,a.a.createElement(s.k,null,a.a.createElement(s.C,null,a.a.createElement(s.B,null," File manager "))),a.a.createElement(s.i,null,a.a.createElement(s.k,{collapse:"condense"},a.a.createElement(s.C,null,a.a.createElement(s.B,{size:"large"},"File manager "))),a.a.createElement(s.q,null,a.a.createElement(s.f,null,a.a.createElement(s.g,null,"IPFS storage system"),a.a.createElement(s.n,null,a.a.createElement(s.j,null,a.a.createElement(s.w,null,a.a.createElement(s.h,null,a.a.createElement(s.o,{color:"primary"},"Nodetype  ")),a.a.createElement(s.h,null,a.a.createElement(s.o,{color:"primary"}," ",i," "))),a.a.createElement(s.w,null,a.a.createElement(s.h,null,a.a.createElement(s.o,{color:"primary"},"Userid  ")),a.a.createElement(s.h,null,a.a.createElement(s.o,{color:"primary"}," ",n," "))))),a.a.createElement(s.n,null,a.a.createElement(s.j,null,a.a.createElement(s.w,null,a.a.createElement(s.h,null,"Current directory"),a.a.createElement(s.h,null,de.map((function(e,t){return a.a.createElement(s.A,{key:"somggsgserandohmxxx"+t,onClick:function(){return ke(e.fullpath)}},"/",e.lastpath)}))))))),a.a.createElement(s.f,null,a.a.createElement(s.g,null,"File processing"),a.a.createElement(s.n,null,a.a.createElement(s.d,{slot:"start"},"1"),a.a.createElement(s.j,null,a.a.createElement(s.w,null,a.a.createElement(s.h,null,a.a.createElement(s.m,{name:"listname",type:"text",placeholder:"Create directory ",value:j,spellCheck:!1,autocapitalize:"off",onIonChange:function(e){return y(e.detail.value)}})),a.a.createElement(s.h,null,a.a.createElement(s.e,{shape:"round",fill:"outline",onClick:_e}," mkdir "))))),a.a.createElement(s.n,null,a.a.createElement(s.d,{slot:"start"},"2"),a.a.createElement(s.j,null,a.a.createElement(s.w,null,a.a.createElement(s.h,null,a.a.createElement(s.o,{color:"primary"},"  Choose file to upload ")),a.a.createElement(s.h,null,a.a.createElement("div",null,a.a.createElement("form",{id:"captureMedia",onSubmit:function(e){e.preventDefault()}},a.a.createElement("input",{type:"file",onChange:function(e){e.stopPropagation(),e.preventDefault(),Je(e.target.files)}}),a.a.createElement("br",null))),a.a.createElement("div",null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://ipfs.io/ipfs/"+S},N))))))),a.a.createElement(s.f,null,a.a.createElement(s.g,null,"File queries"),a.a.createElement(s.n,null,a.a.createElement(s.j,null,a.a.createElement(s.w,null,a.a.createElement(s.h,null,a.a.createElement(s.e,{shape:"round",fill:"outline",onClick:function(){return we(z)},size:"small"}," List files ")),a.a.createElement(s.h,null,a.a.createElement(s.e,{shape:"round",fill:"outline",onClick:function(){return xe(z)},size:"small"}," Pin directory "))))),a.a.createElement(s.n,null,a.a.createElement(s.j,null,a.a.createElement(s.w,null,a.a.createElement(s.h,null,a.a.createElement(s.e,{shape:"round",fill:"outline",onClick:function(){return Ce(z)},size:"small"}," Usage ")),a.a.createElement(s.h,null,a.a.createElement(s.o,{color:"primary"}," ",L,"  bytes   ")))))),a.a.createElement(s.f,null,a.a.createElement(s.g,null,"File listing"),q.map((function(e,t){return a.a.createElement(s.n,{key:"somerandomghxx"+t},e.type?a.a.createElement(s.o,{class:"ion-text-wrap"},a.a.createElement(s.j,null,a.a.createElement(s.w,null,a.a.createElement(s.h,null,a.a.createElement(s.A,{color:"danger"},a.a.createElement("h3",null," /",e.name," "))),a.a.createElement(s.h,null),a.a.createElement(s.h,null,a.a.createElement(s.e,{size:"small",shape:"round",fill:"outline",onClick:function(){return ke(e.fullpath)}},"Directory")),a.a.createElement(s.h,null)))):a.a.createElement(s.o,{class:"ion-text-wrap"},a.a.createElement(s.j,null,a.a.createElement(s.w,null,a.a.createElement(s.h,null,a.a.createElement("h3",null," ",e.name," "))),a.a.createElement(s.w,null,a.a.createElement(s.h,null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.publicurl},"Public ")),a.a.createElement(s.h,null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.privateurl},"Private ")),a.a.createElement(s.h,null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.privateurl,download:!0}," Download ")),a.a.createElement(s.h,null,a.a.createElement(s.e,{shape:"round",fill:"outline",onClick:function(){return Ne(e.fullpath)}},a.a.createElement(s.l,{size:"small",slot:"icon-only",icon:be})))))))})))),a.a.createElement(s.b,{isOpen:W,onDidDismiss:function(){return G(!1)},header:"Alert",subHeader:"Error",message:re,buttons:["OK"]}),a.a.createElement(s.b,{isOpen:Z,onDidDismiss:function(){return ee(!1)},header:"Instruction",subHeader:"Login ",message:pe,buttons:["OK"]}),a.a.createElement(s.b,{isOpen:$,onDidDismiss:function(){return Q(!1)},header:"Message",message:le,buttons:["OK"]})))},x=(n(361),function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),l=Object(d.a)(c,2),i=l[0],u=l[1],p=Object(r.useState)(""),f=Object(d.a)(p,2),b=f[0],v=f[1],j=Object(r.useState)("privatesharednode"),y=Object(d.a)(j,2),k=y[0],O=y[1],x=Object(r.useState)(""),S=Object(d.a)(x,2),w=S[0],C=S[1],_=Object(r.useState)("Place for login message"),N=Object(d.a)(_,2),J=N[0],I=N[1],T=Object(r.useState)(""),z=Object(d.a)(T,2),P=z[0],D=z[1],A=Object(r.useState)("Place for node message"),L=Object(d.a)(A,2),F=L[0],U=L[1],B=Object(r.useState)(0),q=Object(d.a)(B,2),H=q[0],K=q[1],M=Object(r.useState)(0),W=Object(d.a)(M,2),G=W[0],V=W[1],R=Object(r.useState)(!1),$=Object(d.a)(R,2),Q=$[0],X=$[1],Y=Object(r.useState)(!1),Z=Object(d.a)(Y,2),ee=Z[0],te=Z[1],ne=Object(r.useState)(""),re=Object(d.a)(ne,2),ae=re[0],oe=re[1],ce="http://157.245.63.46:8080",le=E()("/ip4/157.245.63.46/tcp/5001");Object(s.G)((function(){console.log("ionViewWillEnter event fired");var e=localStorage.getItem("token"),t=localStorage.getItem("userinfo"),n=null;console.log("userinfo="+t);try{n=JSON.parse(t)}catch(r){return}return null!=n&&(console.log(t),u(n.username),v(n.userid),o(n.email)),null==e?(D("Login to proceed"),void X(!0)):(ie(),me(),null==localStorage.getItem("ipfsconfig")?(D("Config not created"),void X(!0)):void 0)}));var se=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce+"/api/auth/login",t={email:n,username:i,role:"user",password:w},fetch("http://157.245.63.46:8080/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("token",e.token),localStorage.setItem("userinfo",JSON.stringify(e.user)),I(JSON.stringify(e))}),(function(e){oe(e),te(!0),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce+"/api/auth/protected",fetch("http://157.245.63.46:8080/api/auth/protected",{method:"GET",headers:{Authorization:""+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return console.log(e),I(JSON.stringify(e)),0}),(function(e){return oe(e),te(!0),console.log(e),-1}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce+"/api/auth/register",t={email:n,username:i,role:"user",password:w},fetch("http://157.245.63.46:8080/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("token",e.token),I(JSON.stringify(e))}),(function(e){oe(e),te(!0),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce+"/api/ipfsnode/stopnode",t={userid:b},fetch("http://157.245.63.46:8080/api/ipfsnode/stopnode",{method:"POST",headers:{Authorization:""+localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),U(JSON.stringify(e))}),(function(e){oe(e),te(!0),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce+"/api/ipfsnode/startnode",t={userid:b},fetch("http://157.245.63.46:8080/api/ipfsnode/startnode",{method:"POST",headers:{"Content-Type":"application/json",Authorization:""+localStorage.getItem("token")},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),U(JSON.stringify(e))}),(function(e){oe(e),te(!0),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce+"/api/ipfsnode/getipfsconfig",t={userid:b,nodetype:k},fetch("http://157.245.63.46:8080/api/ipfsnode/getipfsconfig",{method:"POST",headers:{"Content-Type":"application/json",Authorization:""+localStorage.getItem("token")},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("ipfsconfig",JSON.stringify(e))}),(function(e){oe(e),te(!0),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n,r,a,o,c,l,s,i,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},n=le.files.ls("/user1/contents/",t),r=0,e.prev=3,a=!0,o=!1,e.prev=6,l=Object(g.a)(n);case 8:return e.next=10,l.next();case 10:return s=e.sent,a=s.done,e.next=14,s.value;case 14:if(i=e.sent,a){e.next=22;break}u=i,console.log(u),r++;case 19:a=!0,e.next=8;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(6),o=!0,c=e.t0;case 28:if(e.prev=28,e.prev=29,a||null==l.return){e.next=33;break}return e.next=33,l.return();case 33:if(e.prev=33,!o){e.next=36;break}throw c;case 36:return e.finish(33);case 37:return e.finish(28);case 38:e.next=45;break;case 40:e.prev=40,e.t1=e.catch(3),oe(e.t1),te(!0),console.error(e.t1);case 45:V(r);case 46:case"end":return e.stop()}}),e,null,[[3,40],[6,24,28,38],[29,,33,37]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,le.files.stat("/user1/contents/",t);case 3:n=e.sent,console.log(n),K(n.cumulativeSize);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(s.s,null,a.a.createElement(s.k,null,a.a.createElement(s.C,null,a.a.createElement(s.B,null,"Admin panel "))),a.a.createElement(s.i,null,a.a.createElement(s.k,{collapse:"condense"},a.a.createElement(s.C,null,a.a.createElement(s.B,{size:"large"}," Login, connect  "))),a.a.createElement(s.q,null,a.a.createElement(s.n,null,a.a.createElement(s.o,{position:"stacked",color:"primary"},"Username"),a.a.createElement(s.m,{name:"username",type:"text",value:i,spellCheck:!1,autocapitalize:"off",onIonChange:function(e){return u(e.detail.value)},required:!0})),a.a.createElement(s.n,null,a.a.createElement(s.o,{position:"stacked",color:"primary"},"Email"),a.a.createElement(s.m,{name:"email",type:"text",value:n,spellCheck:!1,autocapitalize:"off",onIonChange:function(e){return o(e.detail.value)},required:!0})),a.a.createElement(s.n,null,a.a.createElement(s.o,{position:"stacked",color:"primary"},"Password"),a.a.createElement(s.m,{name:"password",type:"password",value:w,onIonChange:function(e){return C(e.detail.value)}})),a.a.createElement(s.w,null,a.a.createElement(s.h,null,a.a.createElement(s.e,{expand:"block",onClick:se}," Login ")),a.a.createElement(s.h,null,a.a.createElement(s.e,{expand:"block",onClick:ue}," Register "))),a.a.createElement(s.n,null,a.a.createElement(s.o,null,J)),a.a.createElement(s.n,null,a.a.createElement(s.e,{onClick:ie}," Test Login ")),a.a.createElement(s.n,null,a.a.createElement(s.e,{onClick:fe}," startnode "),a.a.createElement(s.e,{onClick:pe}," stopnode "),a.a.createElement(s.e,{onClick:me}," getconfig ")),a.a.createElement(s.n,null,a.a.createElement(s.o,null,F)),a.a.createElement(s.n,null,a.a.createElement(s.e,{onClick:he}," Number of files "),a.a.createElement(s.o,{slot:"end"},"  ",G," ")),a.a.createElement(s.n,null,a.a.createElement(s.e,{onClick:de}," Size usage (bytes) "),a.a.createElement(s.o,{slot:"end"},"  ",H," ")),a.a.createElement(s.u,{value:k,onIonChange:function(e){return O(e.detail.value)}},a.a.createElement(s.r,null,a.a.createElement(s.o,null,"Usage type")),a.a.createElement(s.n,null,a.a.createElement(s.o,null,"Private node "),a.a.createElement(s.t,{slot:"start",value:"privatenode"})),a.a.createElement(s.n,null,a.a.createElement(s.o,null,"Private shared node "),a.a.createElement(s.t,{slot:"start",value:"privatesharednode"})),a.a.createElement(s.n,null,a.a.createElement(s.o,null,"Public shared node"),a.a.createElement(s.t,{slot:"start",value:"publicsharednode"})),a.a.createElement(s.n,null,a.a.createElement(s.o,null,"Cluster node"),a.a.createElement(s.t,{slot:"start",value:"clusternode"})))),a.a.createElement(s.b,{isOpen:ee,onDidDismiss:function(){return te(!1)},header:"Alert",subHeader:"Error",message:ae,buttons:["OK"]}),a.a.createElement(s.b,{isOpen:Q,onDidDismiss:function(){return X(!1)},header:"Instruction",subHeader:"Login ",message:P,buttons:["OK"]})))}),S=(n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),function(){return a.a.createElement(s.c,null,a.a.createElement(i.a,null,a.a.createElement(s.z,null,a.a.createElement(s.v,null,a.a.createElement(l.c,{path:"/tab1",component:y,exact:!0}),a.a.createElement(l.c,{path:"/tab2",component:O,exact:!0}),a.a.createElement(l.c,{path:"/tab3",component:x}),a.a.createElement(l.c,{path:"/",render:function(){return a.a.createElement(l.b,{to:"/tab2"})},exact:!0})),a.a.createElement(s.x,{slot:"bottom"},a.a.createElement(s.y,{tab:"tab2",href:"/tab2"},a.a.createElement(s.l,{icon:u.o}),a.a.createElement(s.o,null,"File manager")),a.a.createElement(s.y,{tab:"tab3",href:"/tab3"},a.a.createElement(s.l,{icon:u.m}),a.a.createElement(s.o,null,"Admin "))))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[135,8,9]]]);
//# sourceMappingURL=main.cee5394a.chunk.js.map